#include <timer.pi>
#include <console.pi>
link(2,console,c,2);
link(2,timer,t,1);

// Start message
c[1]<<^PutString;
c[1]<<"Waiting 5 seconds";
// Wait 5 secs
t[2]<<^WaitSeconds;
t[2]<<5;
t[2]>>x;
// Read timer (should be 5 seconds)
t[2]<<^ReadSeconds;
t[2]>>secs;
// Print result
c[1]<<^PutString;
c[1]<<"Timer says the wait took";
c[1]<<^PutInt;
c[1]<<secs;
c[1]<<^PutString;
c[1]<<"seconds";
// Clean up
t[2]<<^End;
c[1]<<^End;
end
